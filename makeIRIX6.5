INC = -I$(HOME)/include
CC = CC
CFLAGS= -O3 -fullwarn -LANG:ansi-for-init-scope=ON
all: libbabak_lib

# because of functions in matrixops, likking the libbabak_lib will possibly require lapack libs.
matrixops.o: matrixops.c
	$(CC) $(CFLAGS) -c $(INC) matrixops.c

analyzeio.o: analyzeio.c 
	$(CC) $(CFLAGS) -c $(INC) analyzeio.c 

getoption.o: getoption.c 
	$(CC) $(CFLAGS) -c getoption.c 

swap.o: swap.c 
	$(CC) $(CFLAGS) -c swap.c 

minmax.o: minmax.c
	$(CC) $(CFLAGS) -c minmax.c

fileinfo.o: fileinfo.c
	$(CC) $(CFLAGS) -c fileinfo.c

setLowHigh.o: setLowHigh.c
	$(CC) $(CFLAGS) -c setLowHigh.c

resize.o: resize.c
	$(CC) $(CFLAGS) -c resize.c

gaussian_kernel.o: gaussian_kernel.c
	$(CC) $(CFLAGS) -c gaussian_kernel.c

convolution.o: convolution.c
	$(CC) $(CFLAGS) -c convolution.c

reslice.o: reslice.c
	$(CC) $(CFLAGS) -c reslice.c

matrixCom.o: matrixCom.c
	$(CC) $(CFLAGS) -c matrixCom.c

registration.o: registration.c
	$(CC) $(CFLAGS) -c registration.c

legendre.o: legendre.c
	$(CC) $(CFLAGS) -c legendre.c

libbabak_lib: matrixops.o analyzeio.o getoption.o swap.o minmax.o fileinfo.o setLowHigh.o resize.o gaussian_kernel.o convolution.o reslice.o matrixCom.o registration.o legendre.o
	ar -ru libbabak_lib_IRIX.a matrixops.o analyzeio.o getoption.o swap.o minmax.o fileinfo.o setLowHigh.o resize.o gaussian_kernel.o convolution.o reslice.o matrixCom.o registration.o legendre.o
	rm -f *.o
