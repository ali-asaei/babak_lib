INC = -I$(HOME)/include -I/usr/local/dmp/nifti/include -I/home/matt/CLAPACK-3.2.1/INCLUDE
CC = g++
all: libbabak_lib_64

# because of functions in matrixops, linking the libbabak_lib_64 will possibly require lapack libs.

DKI.o: DKI.c
	$(CC) -O -c $(INC) DKI.c

artlib.o: artlib.c
	$(CC) -O -c $(INC) artlib.c

volume.o: volume.c
	$(CC) -O -c $(INC) volume.c

binomial.o: binomial.c
	$(CC) -O -c $(INC) binomial.c

smooth.o: smooth.c
	$(CC) -O -c $(INC) smooth.c

utils.o: utils.c
	$(CC) -O -c $(INC) utils.c

nifti.o: nifti.cxx
	$(CC) -O -c $(INC) nifti.cxx

errorMessage.o: errorMessage.c
	$(CC) -O -c $(INC) errorMessage.c

maskOps.o: maskOps.c
	$(CC) -O -c $(INC) maskOps.c

EMFIT.o: EMFIT.c
	$(CC) -O -c $(INC) EMFIT.c

max_cc.o: max_cc.c
	$(CC) -O -c $(INC) max_cc.c

statistics.o: statistics.c
	$(CC) -O -c $(INC) statistics.c

ginverse.o: ginverse.c
	$(CC) -O -c $(INC) ginverse.c

permutation.o: permutation.c
	$(CC) -O -c $(INC) permutation.c

hpsort.o: hpsort.c
	$(CC) -O -c $(INC) hpsort.c

random.o: random.c
	$(CC) -O -c $(INC) random.c

dicomIO.o: dicomIO.c
	$(CC) -O -c $(INC) dicomIO.c

nkiIO.o: nkiIO.c
	$(CC) -O -c $(INC) nkiIO.c

matrixops.o: matrixops.c
	$(CC) -O -c $(INC) matrixops.c

subsets.o: subsets.c 
	$(CC) -O -c $(INC) subsets.c 

analyzeio.o: analyzeio.c 
	$(CC) -O -c $(INC) analyzeio.c 

getoption.o: getoption.c 
	$(CC) -O -c $(INC) getoption.c 

swap.o: swap.c 
	$(CC) -O -c $(INC) swap.c 

minmax.o: minmax.cxx
	$(CC) -O -c $(INC) minmax.cxx

fileinfo.o: fileinfo.c
	$(CC) -O -c $(INC) fileinfo.c

histogram.o: histogram.c
	$(CC) -O -c $(INC) histogram.c

resize.o: resize.c
	$(CC) -O -c $(INC) resize.c

gaussian_kernel.o: gaussian_kernel.c
	$(CC) -O -c $(INC) gaussian_kernel.c

convolution.o: convolution.c
	$(CC) -O -c $(INC) convolution.c

reslice.o: reslice.c
	$(CC) -O -c $(INC) reslice.c

matrixCom.o: matrixCom.c
	$(CC) -O -c $(INC) matrixCom.c

registration.o: registration.c
	$(CC) -O -c $(INC) registration.c

legendre.o: legendre.c
	$(CC) -O -c $(INC) legendre.c

cubicspline.o: cubicspline.c
	$(CC) -O -c $(INC) cubicspline.c

libbabak_lib_64: DKI.o artlib.o volume.o binomial.o smooth.o utils.o nifti.o errorMessage.o maskOps.o EMFIT.o max_cc.o statistics.o ginverse.o permutation.o hpsort.o random.o dicomIO.o nkiIO.o matrixops.o subsets.o analyzeio.o getoption.o swap.o minmax.o fileinfo.o histogram.o resize.o gaussian_kernel.o convolution.o reslice.o matrixCom.o registration.o legendre.o cubicspline.o
	ar -ru libbabak_lib_linux_64.a DKI.o artlib.o volume.o binomial.o smooth.o utils.o nifti.o errorMessage.o maskOps.o EMFIT.o max_cc.o statistics.o ginverse.o permutation.o hpsort.o random.o dicomIO.o nkiIO.o matrixops.o subsets.o analyzeio.o getoption.o swap.o minmax.o fileinfo.o histogram.o resize.o gaussian_kernel.o convolution.o reslice.o matrixCom.o registration.o legendre.o cubicspline.o
	rm -f *.o
